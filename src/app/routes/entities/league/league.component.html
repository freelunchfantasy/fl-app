<div class="league">
  <!-- List user leagues -->
  <div *ngIf="!leagueId" class="user-leagues-container">
    <div *ngFor="let userLeague of userLeagues" class="user-league" (click)="selectUserLeague(userLeague)">
      <div class="user-league__league-name">{{ userLeague.leagueName }}</div>
    </div>
    <div class="user-league" (click)="openNewUserLeagueModal()">
      <div class="user-league__league-name">+ Add League</div>
    </div>
  </div>

  <!-- If league has been selected -->
  <div *ngIf="leagueId">
    <div *ngIf="shouldShowLeague" class="league-container">
      <div class="league-container__standings">
        <div class="league-name">{{ league.settings.name }}</div>
        <league-standings class="league-standings" [leagueStandings]="leagueStandings"></league-standings>
        <div class="sim-btn-container">
          <div *ngIf="leagueSimulationIsLoading$() | async"><mat-spinner></mat-spinner></div>
          <div *ngIf="!(leagueSimulationIsLoading$() | async)">
            <button class="btn btn-success" (click)="simulateSeason()">Simulate Season</button>
          </div>
        </div>
      </div>
      <team-roster
        class="league-container__roster"
        [starters]="starters"
        [bench]="bench"
        [startingPositions]="startingPositions"
      ></team-roster>
    </div>

    <div *ngIf="!shouldShowLeague">
      <div class="display-4">Loading league...</div>
    </div>
  </div>

  <!-- New user league modal -->
  <new-user-league-modal
    *ngIf="showNewUserLeagueModal"
    [modalTitle]="'Add league'"
    [modalSubtitle]="'Import your league\'s data'"
    [showCloseIcon]="false"
    (dismissModal)="closeNewUserLeagueModal()"
  ></new-user-league-modal>
</div>
